syms s t;

A = [[-0.0021818182 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -1.0734E-5 , 0.0021818182];[0.0021818182 , -0.0021818182 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -1.0734E-5 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , -0.0021818182 , 0 , -1.0734E-5 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.0021818182 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , -2.1656972E-14 , 0 , -0.0031990675 , -3.717784E-5 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.0032207162 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , -0.0051818182 , 0.0021818182 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.003 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , -0.0051818182 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.003 , 0 , 0 , 0 , 0 , 0 , 0.0021818182 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0.037235904 , 0.037235781 , 0 , -0.16810037 , 0.037235537 , 0 , 0 , 0 , 0.0191806 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.037235659 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -0.0051818182 , 0 , 0 , 0 , 0.0021818182 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.003 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -0.228 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.22 , 0.008 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -0.0005359628 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 7.77E-5 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.0004582628 , -0.0005359628 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 7.77E-5 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 7.77E-5 , 0 , 0 , 0 , 0.0004582628 , -0.0005359628 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -0.0004582628 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -1.0734E-5 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.0004582628 , -0.0004582628 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -1.0734E-5 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.0004582628 , -0.0004582628 , -1.0734E-5 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0.027527778 , 0.0030584608 , 0.030588727 , 0 , -0.016197935 , 0.0030584608 , 0 , 0 , 0 , 0 , 0 , 0 , -2.1649469E-11 , -0.088436282 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.027527778 , 0.0030584608 , 0 , 0 , 0 , 0 , 0 , 0 , 0.027527778 , 0];[0 , 0 , 0 , 0 , 0 , 0 , -3.717784E-5 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -0.0031433008 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.0031649495 , -1.979713E-14];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0.22 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -0.228 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.008 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.14891977 , 0 , 0 , 0 , 0.0191806 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -0.16687311 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0.22 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -0.228 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.008 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.0191806 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.14769251 , 0 , -0.16564585 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -3.8154545 , 0 , 0 , 0 , 0 , 0 , 0 , 0.47 , 0 , 0 , 0];[0 , -2.7700175E-14 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -3.717784E-5 , 0 , 0 , 0 , 0.00011896909 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -0.0030317672 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.0021818182 , 0.003 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -0.0051818182 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.47 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 3.3454545 , 0 , 0 , -3.8154545 , 0 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -2.1642474E-11 , 0 , 0.10947169 , 0 , 0 , 0 , -0.0030414965 , 0 , 0 , 0 , 0 , 0 , 0 , -0.087822959 , 0 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.47 , 0 , 0 , 0 , 0 , 0 , 0 , 3.3454545 , 0 , -3.8154545 , 0 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -2.1650164E-11 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -0.0030414965 , 0 , 0 , 0 , 0 , 0.10885837 , 0 , -0.087209635 , 0 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.22 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.008 , 0 , 0 , 0 , 0 , 0 , 0 , -0.228 , 0 , 0 , 0];[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.47 , 0 , 0 , 0 , 0 , 0 , 0 , 3.3454545 , 0 , 0 , -3.8154545 , 0 , 0];[-2.0204766E-14 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0.0031091827 , -3.717784E-5 , 0 , 0 , 0 , 0 , 0 , 0 , -0.003087534 , 0];[0 , 0 , 0.0021818182 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -1.0734E-5 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , -0.0021818182]];
B = [[0];[0];[0];[0];[0];[0];[0];[0];[0];[0];[0];[0.0004582628];[0];[0];[0];[0];[0];[0];[0];[0];[0];[0];[0];[0];[0];[0];[0];[0];[0];[0];[0];[0];[0];[0];[0]];
C = [[0 , 0 , 0 , 0 , 0 , 1 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0, 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0]];
D = [[0]];



% A = [[5 , -6 , 2 ];
% [5 , -4 , 1];
% [0 , 6 , -3]];
% 
% B = [[1];[2];[3];];
% 
% C = [[0.5 , -1 , 0.5]];
% 
% D = [[0]];

num1 = [[0 , 0 , 0 , 0.83283666 , 8110.614 , 33022067 , 7.3983139E10 , 1.0188864E14 , 9.1865284E16 , 5.6221072E19 , 2.3738652E22 , 6.9082514E24 , 1.3590076E27 , 1.732576E29 , 1.6236987E31 , 7.4903209E32 , 2.5729417E34 , 6.2404904E35 , 1.0446661E37 , 1.1891428E38 , 9.1079031E38 , 4.6029527E39 , 1.4691997E40 , 2.6861502E40 , 2.1703601E40 , 8.7676828E38 , 2.5714554E38 , 3.8076401E37 , 2.2450086E36]];
num2 = [[0 , 0 , 0 , 1 , 19328.608 , 1.6393894E8 , 8.1781241E11 , 2.7046594E15 , 6.3265318E18 , 1.0893155E22 , 1.417651E25 , 1.4198853E28 , 1.1077279E31 , 6.7796989E33 , 3.2639995E36 , 1.2338652E39 , 3.6377223E41 , 8.2589362E43 , 1.4148652E46 , 1.7735415E48 , 1.5550237E50 , 8.9655647E51 , 3.1969581E53 , 7.2919663E54 , 1.1136205E56 , 1.1771452E57 , 8.7747377E57 , 4.6366566E58 , 1.7221952E59 , 4.3875468E59 , 7.3188249E59 , 7.3913891E59 , 4.0462912E59 , 1.1830025E59 , 1.7482736E58 , 1.0294374E57]];

W = tf(num1, num2)

size_N1 = size(num1)
size_N2 = size(num2)

sys = ss(A , B, C , D)

step(sys)
% step(W)
% impulse(W)
% bode(W)
% nyquist(W)


% size_A = size(A);
% 
% sys = ss(A, B, C, D);

% % fprintf('\tСобственные числа: \n')
% 
% my_num = eig(A);
% 
% % fprintf('\tМатрицы управляемости U и наблюдаемости V:\n')
% U = ctrb(A,B);
% V = obsv(A,C);
% 
% % fprintf('\nРанги:\n')
% % size(A)
% % size(B)
% % size(C)
% % rank(U)
% % rank(V)
% 
% 
% % Приведение системы к минимальной реализации:
% % M – матрица преобразования координат, sysmin – минимальная реализация системы sys
% [sysmin, M] = minreal(sys)
% 
% Ar = M * A * inv(M);
% Br = M * B;
% Cr = C * inv(M);
% 
% 
% % __________________________________________________________________________________
% 
% 
% % W_nu = G_s_nu / D_s_nu
% E = eye(size(Ar)); % Единичная матрица
% sE_Ar = (s * E) - Ar;
% 
% Exp_x_nu = zeros(size_A(1),1,'double');
% Exp_x_nu(size_A(1)) = 1;
% 
% % G_s_nu = vpa(expand(det([[sE_Ar , Exp_x_nu]; [-(s * Cr) , 0]])), 2) % matRezenbroga
% % D_s_nu = vpa((expand(det(sE_Ar))), 2)
% 
% W_s_nu_new = vpa(simplify(expand((s * Cr * inv(sE_Ar) * Exp_x_nu))), 2) % Alternative
% 
% 
% % __________________________________________________________________________________
% 
% 
% % W_min = G_s_min / D_s_min
% E = eye(size(sysmin.A)); % Единичная матрица
% sE_A_min = (s * E) - sysmin.A;
% 
% % G_s_min = vpa(expand(det([[sE_A_min , sysmin.B]; [-sysmin.C , sysmin.D]])), 2) % matRezenbroga
% % D_s_min = vpa(expand(det(sE_A_min)), 2)
% 
% W_s_min_new = vpa(simplify(expand((sysmin.C * inv(sE_A_min) * sysmin.B))), 2) % Alternative
% 
% % __________________________________________________________________________________
% 
% 
% % U_nu = -(W_nu / W_min)
% % U_nu = vpa((simplify(-1 * ((G_s_nu * D_s_min) / ((D_s_nu * G_s_min))))), 2) % vpa(-1 * (-((1.1*s^2 - 2.5*s + 4.4))/0.9994), 2) % vpa((simplify(-1 * ((G_s_nu * D_s_min) / ((D_s_nu * G_s_min))))), 2)
% 
% U_nu_new =  vpa((simplify(-1 * ((W_s_nu_new) / ((W_s_min_new))))), 2) % Alternative
% 
% 
% K_nu = zeros(1,size_A(1),'double');
% K_nu(size_A(1)) = subs(int(simplify(ilaplace(U_nu, s, t))), t, 1)
% 
% 
% % __________________________________________________________________________________
% 
% 
% U_c = vpa(K_nu * M, 2)
% 
% 
% 
% 




